{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 883bb4f17d0d3d845868","webpack:///./src/babylonjs/helpers/property-setters.js","webpack:///./src/babylonjs/helpers/property-transformers.js","webpack:///./src/index.js","webpack:///./src/react-api/index.js","webpack:///./src/react-api/node.js","webpack:///./src/react-api/babylonjs-renderer.js","webpack:///external \"react-reconciler\"","webpack:///./src/babylonjs/helpers/component-manager.js","webpack:///./src/babylonjs/elements.js","webpack:///./src/babylonjs/helpers/composer.js","webpack:///./src/babylonjs/helpers/property-updater.js","webpack:///./src/babylonjs/components/component-scene.js","webpack:///./src/babylonjs/components/component-mesh-box.js","webpack:///./src/babylonjs/components/component-mesh-ground.js","webpack:///./src/babylonjs/components/component-mesh-sphere.js","webpack:///./src/babylonjs/components/component-free-camera.js","webpack:///./src/babylonjs/components/component-hemispheric-light.js","webpack:///./src/babylonjs/styles/style-shader-material.js","webpack:///./src/babylonjs/styles/style-standard-material.js","webpack:///./src/babylonjs/styles/style-texture.js","webpack:///./src/babylonjs/styles/style-cube-texture.js"],"names":["setters","property","component","value","propName","propertyFromComponent","getComponent","undefined","setFloat","setVector4","setTexture","newValue","apply","module","exports","vector3","BABYLON","Vector3","vector4","Vector4","context","prevReturned","dispose","type","props","updateProps","elements","byType","logger","warn","needLastReturned","transformers","require","Node","BabylonJSRenderer","componentManager","createRenderer","canvas","engine","Engine","scene","Scene","rootNode","create","console","rootContainer","createContainer","startLoop","loopStarted","runRenderLoop","render","updateContainer","Component","DEBUG","root","children","appendChild","child","push","removeChild","a","b","index","indexOf","slice","ErrorNotImplemented","Error","ReactFiberReconciler","i","buildFiberPath","sibling","debug_fiber","fiber","return","stateNode","mutation","commitMount","instance","newProps","internalInstanceHandle","commitUpdate","updatePayload","oldProps","cmp","rootContext","hostContext","Object","keys","filter","key","forEach","propertySetter","parentInstance","addChild","appendChildToContainer","insertBefore","beforeChild","insertInContainerBefore","removeChildFromContainer","useSyncScheduling","getPublicInstance","getRootHostContext","container","assign","iAmTheHost","getChildHostContext","parentContext","now","Date","createInstance","rootContainerInstance","ele","createElement","finalizeInitialChildren","appendInitialChild","prepareUpdate","prepareForCommit","resetAfterCommit","shouldSetTextContent","resetTextContent","createTextInstance","text","commitTextUpdate","textInstance","oldText","newText","injectIntoDevTools","bundleType","version","rendererPackageName","TmpNode","values","item","parent","length","splice","processProps","propsPayload","style","event","tag","arePropsEqual","ComponentManager","_lastId","_cache","validateId","componentId","id","parseInt","newId","toString","save","get","compose","propertyUpdater","styles","standardMaterial","shaderMaterial","texture","cubeTexture","fromPairs","arr","reduce","obj","map","createComponent","equals","Array","isArray","clone","newObj","validateComponent","definition","updater","shouldCreateNewComponent","defs","propsDefinitions","def","newComponentRequired","acc","currentProps","prop","definitionProps","requireNewComponent","creator","providedProps","baseComponent","internalCreateComponent","tmpProps","createNewComponent","propsDefinition","transformer","setter","keyComponent","clearColor","ambientColor","Mesh","CreateBox","name","size","infiniteDistance","width","height","subdivisions","material","position","transform","box","CreateGround","ground","CreateSphere","segments","diameter","sphere","FreeCamera","activeCamera","defaultTarget","setTarget","target","attachControl","detachControl","freeCamera","HemisphericLight","intensity","hemisphericLight","ShaderMaterial","shaderPath","attributes","from","uniforms","diffuseColor","backFaceCulling","boxSize","edgeColor","hue","tileTex","superTypes","StandardMaterial","specularColor","emissiveColor","reflectionTexture","Texture","url","CubeTexture","coordinatesMode"],"mappings":"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","file":"react-babylon-3d.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react-reconciler\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ReactBabylon3D\", [\"react-reconciler\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactBabylon3D\"] = factory(require(\"react-reconciler\"));\n\telse\n\t\troot[\"ReactBabylon3D\"] = factory(root[\"react-reconciler\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 883bb4f17d0d3d845868","const setters = {\n    property: propName => {\n        const property = (component, value) => (component[propName] = value);\n        return property;\n    },\n    propertyFromComponent: propName => {\n        const propertyFromComponent = (component, value) =>\n            (component[propName] = value ? value.getComponent() : undefined);\n        return propertyFromComponent;\n    },\n    setFloat: propName => {\n        const setFloat = (component, value) =>\n            component.setFloat(propName, value);\n        return setFloat;\n    },\n    setVector4: propName => {\n        const setVector4 = (component, value) =>\n            component.setVector4(propName, value);\n        return setVector4;\n    },\n    setTexture: propName => {\n        const setTexture = (component, value) => {\n            const newValue =\n                value && value.getComponent ? value.getComponent() : value;\n            component.setTexture(propName, newValue);\n        };\n        return setTexture;\n    },\n    apply: (component, value) => value(component),\n};\n\nmodule.exports = setters;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/property-setters.js","const vector3 = ({ BABYLON }, value) => new BABYLON.Vector3(...value);\nconst vector4 = ({ BABYLON }, value) => new BABYLON.Vector4(...value);\n\nconst component = (context, value, prevReturned) => {\n    if (!value) {\n        if (prevReturned) {\n            prevReturned.dispose();\n        }\n\n        return null;\n    }\n\n    const { type, props } = value;\n\n    if (prevReturned) {\n        prevReturned.updateProps(props);\n        return prevReturned;\n    }\n\n    if (!context.elements.byType[type]) {\n        context.logger.warn(`element <${type}> not found.`);\n        return;\n    }\n\n    return context.elements.byType[type](context, props);\n};\ncomponent.needLastReturned = true;\n\nconst transformers = {\n    vector3,\n    vector4,\n    component,\n};\n\nmodule.exports = transformers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/property-transformers.js","const { Node, BabylonJSRenderer } = require(\"./react-api\");\nconst componentManager = require(\"./babylonjs/helpers/component-manager\");\nconst elements = require(\"./babylonjs/elements\");\n\nconst createRenderer = ({ BABYLON, canvas }) => {\n    const engine = new BABYLON.Engine(canvas, true);\n    const scene = new BABYLON.Scene(engine);\n    const rootNode = new Node(undefined, {\n        BABYLON,\n        canvas,\n        componentManager: componentManager.create(),\n        elements,\n        engine,\n        scene,\n        logger: console,\n        type: \"root\",\n    });\n\n    const rootContainer = BabylonJSRenderer.createContainer(rootNode);\n\n    const startLoop = (function() {\n        let loopStarted = false;\n        return () => {\n            if (!loopStarted) {\n                loopStarted = true;\n                engine.runRenderLoop(() => scene.render());\n            }\n        };\n    })();\n\n    const render = Component => {\n        BabylonJSRenderer.updateContainer(Component, rootContainer, null, () =>\n            startLoop()\n        );\n    };\n\n    const dispose = () => {};\n\n    return {\n        render,\n        dispose,\n    };\n};\n\nmodule.exports = { createRenderer, elements };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const Node = require(\"./node.js\");\nconst BabylonJSRenderer = require(\"./babylonjs-renderer\");\n\nmodule.exports = { BabylonJSRenderer, Node };\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-api/index.js","const DEBUG = () => {};\nclass Node {\n    // Stores all the children\n\n    constructor(root, props) {\n        DEBUG(\"@@Node.constructor\");\n        this.root = root;\n        this.props = props;\n        this.children = [];\n    }\n\n    appendChild(child) {\n        DEBUG(\"@@Node.appendChild\", { child });\n        this.children.push(child);\n    }\n\n    removeChild(child, a, b) {\n        DEBUG(\"@@Node.removeChild\", { child, a, b });\n        const index = this.children.indexOf(child);\n        this.children.slice(index, 1);\n    }\n}\n\nmodule.exports = Node;\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-api/node.js","\n\n\n// 1. evetns\n// 1.1 warning message event doesn't exist\n// 1.2 not recreate the component if the handler hasn't changed\n// 2. compose properties\n// 3. re-creatiing babylon component?\n// 3.1 as it for now just throws an Error\n\n// const babylonjsFactoryComponent = require(\"./babylonjs-factory-component\");\nclass ErrorNotImplemented extends Error {}\n\n// const React = require(\"react\");\n\nconst ReactFiberReconciler = require(\"react-reconciler\");\n\nlet i = 0;\nconst buildFiberPath = ({ child, sibling /*,...fiber*/ }) => {\n    return [{ child, sibling }];\n};\n\nconst debug_fiber = ({ return: fiber }) => {\n    return { stateNode: fiber.stateNode, type: fiber.type, fiber };\n};\nconst DEBUG = () => {};\nconst mutation = {\n    commitMount(\n        instance: Instance,\n        type: string,\n        newProps: Props,\n        internalInstanceHandle: Object\n    ): void {\n        DEBUG(\n            \"-@@@MUTATION.commitMount\",\n            type,\n            // {\n            //     newProps,\n            //     instance,\n            //     internalInstanceHandle,\n            // },\n            // ...buildFiberPath(internalInstanceHandle),\n            debug_fiber(internalInstanceHandle)\n        );\n    },\n\n    commitUpdate(\n        instance: Instance,\n        updatePayload: Object,\n        type: string,\n        oldProps: Props,\n        newProps: Props,\n        internalInstanceHandle: Object\n    ): void {\n        DEBUG(\n            \"+@@@MUTATION.commitUpdate\",\n            type,\n            // {\n            //     updatePayload,\n            //     oldProps,\n            //     newProps,\n            //     instance,\n            //     internalInstanceHandle,\n            // },\n            debug_fiber(internalInstanceHandle)\n        );\n\n        if (instance.cmp && instance.cmp.updateProps) {\n            instance.cmp.updateProps(updatePayload);\n            return;\n        }\n\n        const { rootContext, hostContext } = updatePayload;\n        Object.keys(newProps)\n            .filter(key => instance[key] && typeof instance[key] === \"function\")\n            .forEach(propertySetter => {\n                instance[propertySetter](\n                    rootContext,\n                    hostContext,\n                    instance.cmp,\n                    newProps,\n                    oldProps\n                );\n            });\n    },\n\n    appendChild(\n        parentInstance: Instance | Container,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\n            `+@@@MUTATION.appendChild ${child.type} into => ${parentInstance.type}`,\n            {\n                parentInstance,\n                child,\n            }\n        );\n        parentInstance.addChild(child);\n        // if (parentInstance.appendChild) {\n        //     parentInstance.appendChild(child);\n        // } else {\n        //     parentInstance.babylonJSStuff = child;\n        // }\n    },\n    appendChildToContainer(\n        parentInstance: Container,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\"-@@@MUTATION.appendChildToContainer\", { parentInstance, child });\n    },\n\n    insertBefore(\n        parentInstance: Instance,\n        child: Instance | TextInstance,\n        beforeChild: Instance | TextInstance\n    ): void {\n        DEBUG(\"-@@@MUTATION.insertBefore\", {\n            parentInstance,\n            child,\n            beforeChild,\n        });\n        // noop\n    },\n    insertInContainerBefore(\n        parentInstance: Container,\n        child: Instance | TextInstance,\n        // eslint-disable-next-line no-unused-vars\n        beforeChild: Instance | TextInstance\n    ): void {\n        DEBUG(\"-@@@MUTATION.insertInContainerBefore\");\n    },\n\n    removeChild(\n        parentInstance: Instance,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\"+@@@MUTATION.removeChild\", child);\n        parentInstance.removeChild(child);\n    },\n    removeChildFromContainer(\n        parentInstance: Container,\n        // eslint-disable-next-line no-unused-vars\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\"-@@@MUTATION.removeChildFromContainer\");\n    },\n};\n\nconst BabylonJSRenderer = ReactFiberReconciler({\n    mutation,\n    useSyncScheduling: true,\n    getPublicInstance(instance) {\n        DEBUG(\"@@BabylonJSRenderer.getPublicInstance\");\n        return instance;\n    },\n    getRootHostContext(container) {\n        DEBUG(\n            \"BabylonJSRenderer.getRootHostContext\",\n            container.props,\n            container.children\n        );\n        return Object.assign({ iAmTheHost: true }, container.props);\n    },\n    getChildHostContext(parentContext, type: string, rootContainer) {\n        i++;\n        DEBUG(`BabylonJSRenderer.getChildHostContext-${i}}`, {\n            parentContext,\n            type,\n            rootContainer,\n        });\n        return Object.assign(\n            {\n                [`childHostContext${i}`]: \"childddddd\",\n            },\n            parentContext,\n            { type, rootContainer }\n        );\n    },\n\n    now: () => Date.now(),\n\n    createInstance(\n        type: string,\n        props: Props,\n        rootContainerInstance: Container,\n        hostContext: {},\n        internalInstanceHandle: Object\n    ): Instance {\n        DEBUG(\n            \"BabylonJSRenderer.createInstance\",\n            {\n                type,\n                props,\n                rootContainerInstance,\n                hostContext,\n                internalInstanceHandle,\n            },\n            ...buildFiberPath(internalInstanceHandle)\n        );\n\n        const ele = createElement(\n            rootContainerInstance,\n            hostContext,\n            type,\n            props\n        );\n\n        if (ele.cmp) {\n            // ele.dispose = () => DEBUG('************');\n            ele.dispose = () => ele.cmp.dispose();\n        }\n        return ele;\n    },\n\n    // at this stage all children were created and already had the `finalizeInitialChildren` executed\n    // 1. when a component's created it's possible to set some default values\n    // 2. also some actions, such as setting focus\n    // 3. if it returns true, eventually it will trigger a commitMount\n    // 4. another thing(if not the most important) you should set the properties in your component\n    finalizeInitialChildren(\n        instance: Instance,\n        type: string,\n        props: Props,\n        rootContainerInstance: Container\n    ): boolean {\n        DEBUG(\"BabylonJSRenderer.finalizeInitialChildren\", {\n            type,\n            props,\n            instance,\n            rootContainerInstance,\n        });\n        return true;\n    },\n    appendInitialChild(\n        parentInstance: Instance,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\n            `+BabylonJSRenderer.appendInitialChild ${child.type} into => ${parentInstance.type}`,\n            {\n                parentInstance,\n                child,\n            }\n        );\n        parentInstance.addChild(child);\n        // if (parentInstance.appendChild) {\n        //     parentInstance.appendChild(child);\n        // } else {\n        //     parentInstance.babylonJSStuff = child;\n        // }\n    },\n\n    // decides if there is any update to be done\n    // if there is no change to apply, then just returns null\n    // otherwise to make your life easier, calculate what needs to be changed and return it\n    // it's result will be passed to `mutation.commitUpdate` as `updatePayload` (2nd parameter)\n    prepareUpdate(\n        instance: Instance,\n        type: string,\n        oldProps: Props,\n        newProps: Props,\n        rootContainerInstance: Container,\n        // eslint-disable-next-line no-unused-vars\n        hostContext: {}\n    ): null | Object {\n        DEBUG(\"BabylonJSRenderer.prepareUpdate\", {\n            type,\n            instance,\n            oldProps,\n            newProps,\n        });\n        // if (arePropsEqual(oldProps, newProps)) {\n        //     return newProps;\n        // }\n\n        return newProps;\n    },\n    // **********************************\n    // hooks whenever an update happens\n    // **********************************\n    prepareForCommit() {\n        DEBUG(\"-BabylonJSRenderer.prepareForCommit\");\n        // noop\n    },\n\n    resetAfterCommit() {\n        DEBUG(\"-BabylonJSRenderer.resetAfterCommit\");\n        // noop\n    },\n\n    // **********************************\n    // as it doesn't support pure text content....\n    // **********************************\n    // eslint-disable-next-line no-unused-vars\n    shouldSetTextContent(type: string, props: Props): boolean {\n        return false;\n    },\n    // eslint-disable-next-line no-unused-vars\n    resetTextContent(instance: Instance): void {\n        throw new ErrorNotImplemented();\n    },\n    createTextInstance(\n        text,\n        rootContainerInstance,\n        hostContext,\n        // eslint-disable-next-line no-unused-vars\n        internalInstanceHandle\n    ) {\n        throw new ErrorNotImplemented();\n    },\n    commitTextUpdate(\n        textInstance: TextInstance,\n        oldText: string,\n        // eslint-disable-next-line no-unused-vars\n        newText: string\n    ): void {\n        throw new ErrorNotImplemented();\n    },\n    // **********************************\n    // **********************************\n});\n\nBabylonJSRenderer.injectIntoDevTools({\n    bundleType: 0, // 0 for PROD, 1 for DEV\n    version: \"0.1.0\", // version for your renderer\n    rendererPackageName: \"babylon3d\", // package name\n});\n\nmodule.exports = BabylonJSRenderer;\n\nfunction TmpNode(values) {\n    Object.keys(values).forEach(key => (this[key] = values[key]));\n    this.children = [];\n\n    this.addChild = function(item) {\n        this.children.push(item);\n        item.parent = this;\n    };\n\n    this.removeChild = function(child) {\n        while (child.children.length > 0)\n            child.removeChild(child.children[child.children.length - 1]);\n\n        const index = this.children.indexOf(child);\n        if (index >= 0) {\n            this.children.splice(index, 1);\n        }\n        if (child.dispose) {\n            child.dispose();\n        }\n    };\n\n    this.dispose = function() {\n        if (this.cmp && this.cmp.dispose) {\n            this.cmp.dispose();\n        }\n    };\n}\n\nfunction createElement(rootContext, parentContext, type, props) {\n    const ele = new TmpNode({ type, props });\n\n    if (rootContext.props.elements.byType[type]) {\n        ele.cmp = rootContext.props.elements.byType[type](parentContext, props);\n        return ele;\n    }\n\n    return ele;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction processProps(instance: number, props: Props): Object {\n    const propsPayload = {};\n    for (let key in props) {\n        if (key === \"children\") {\n            // Skip special case.\n            continue;\n        }\n        let value = props[key];\n        if (typeof value === \"function\") {\n            value = {\n                style: \"rt-event\",\n                event: key,\n                tag: instance,\n            };\n        }\n        propsPayload[key] = value;\n    }\n    return propsPayload;\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction arePropsEqual(oldProps: Props, newProps: Props): boolean {\n    for (let key in newProps) {\n        if (key === \"children\") {\n            // Skip special case.\n            continue;\n        }\n\n        if (newProps[key] !== oldProps[key]) {\n            return false;\n        }\n    }\n\n    for (let key in oldProps) {\n        if (key === \"children\") {\n            // Skip special case.\n            continue;\n        }\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-api/babylonjs-renderer.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-reconciler\"\n// module id = 6\n// module chunks = 0","const ComponentManager = () => {\n    let _lastId = 0;\n    const _cache = {};\n    const validateId = componentId => {\n        if (!componentId) {\n            throw new Error(\"No id was provided\");\n        }\n\n        const id = parseInt(componentId);\n\n        if (!id || id > _lastId) {\n            throw new Error(\"Invalid id\");\n        }\n    };\n\n    const newId = () => (++_lastId).toString();\n    const save = (componentId, component) => {\n        validateId(componentId);\n        if (component) {\n            _cache[componentId] = component;\n        } else {\n            delete _cache[componentId];\n        }\n    };\n    const get = componentId => {\n        validateId(componentId);\n        return _cache[componentId];\n    };\n\n    return {\n        newId,\n        save,\n        get,\n    };\n};\n\nmodule.exports = { create: ComponentManager };\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/component-manager.js","const { compose } = require(\"./helpers/composer\");\nconst propertyUpdater = require(\"./helpers/property-updater\");\n\nconst styles = {\n    standardMaterial: props => ({ type: \"standardMaterial\", props }),\n    shaderMaterial: props => ({ type: \"shaderMaterial\", props }),\n    texture: props => ({ type: \"texture\", props }),\n    cubeTexture: props => ({ type: \"cubeTexture\", props }),\n};\n\nconst fromPairs = arr =>\n    arr.reduce((obj, [key, value]) => Object.assign(obj, { [key]: value }), {});\n\nconst byType = fromPairs(\n    [\n        require(\"./components/component-scene\"),\n        require(\"./components/component-mesh-box\"),\n        require(\"./components/component-mesh-ground\"),\n        require(\"./components/component-mesh-sphere\"),\n        require(\"./components/component-free-camera\"),\n        require(\"./components/component-hemispheric-light\"),\n\n        require(\"./styles/style-shader-material\"),\n        require(\"./styles/style-standard-material\"),\n\n        require(\"./styles/style-texture\"),\n        require(\"./styles/style-cube-texture\"),\n    ].map(({ type, props, createComponent }) => [\n        type,\n        compose(type, { props, createComponent }, propertyUpdater(type, props)),\n    ])\n);\n\nmodule.exports = { styles, byType };\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/elements.js","const equals = (a, b) => {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n\n        for (let i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    if (typeof a === \"object\" && typeof b === \"object\") {\n        for (let key in a) {\n            if (equals(a[key], b[key]) === false) {\n                return false;\n            }\n        }\n\n        for (let key in b) {\n            if (equals(a[key], b[key]) === false) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    return a === b;\n};\n\nconst clone = obj => {\n    if (Array.isArray(obj)) {\n        return obj.slice(0);\n    }\n\n    if (typeof obj !== \"object\") {\n        return obj;\n    }\n\n    const newObj = Object.assign({}, obj);\n\n    for (let key in obj) {\n        newObj[key] = clone(obj[key]);\n    }\n\n    return newObj;\n};\n\nconst validateComponent = (type, definition, updater) => {\n    if (!type) {\n        throw new Error(\"Component's type is required\");\n    }\n\n    if (!definition) {\n        throw new Error(\"Component's definition is required\");\n    }\n\n    if (!definition.createComponent) {\n        throw new Error(\n            \"Component's definition's must have a property createComponent\"\n        );\n    }\n\n    if (!updater) {\n        throw new Error(\"Updater is required\");\n    }\n};\n\nconst shouldCreateNewComponent = propsDefinitions => {\n    const defs = Object.keys(propsDefinitions)\n        .filter(def => propsDefinitions[def].newComponentRequired)\n        .reduce((acc, key) => Object.assign(acc, { [key]: true }), {});\n\n    return (props, currentProps) => {\n        for (let prop in props) {\n            if (defs[prop] && !equals(currentProps[prop], props[prop])) {\n                return true;\n            }\n        }\n        return false;\n    };\n};\n\nconst compose = (type, definition, updater) => {\n    validateComponent(type, definition, updater);\n\n    const definitionProps = Object.assign({}, definition.props);\n\n    const requireNewComponent = shouldCreateNewComponent(definitionProps);\n\n    const creator = (context, providedProps) => {\n        const props = clone(providedProps);\n\n        let componentId;\n        let baseComponent;\n\n        const getComponent = () => baseComponent;\n        const internalCreateComponent = () => {\n            const tmpProps = clone(props);\n            if (baseComponent) {\n                baseComponent.dispose();\n            }\n            baseComponent = definition.createComponent(context, tmpProps);\n        };\n\n        internalCreateComponent();\n\n        const instance = {\n            getComponent,\n            updateProps: values => {\n                const createNewComponent = requireNewComponent(values, props);\n\n                Object.assign(props, clone(values));\n\n                if (createNewComponent === true) {\n                    internalCreateComponent();\n                    return;\n                }\n                updater(context, getComponent(), clone(values), componentId);\n            },\n            dispose: () => getComponent().dispose(),\n        };\n\n        componentId = context.componentManager.newId(instance);\n        updater(context, getComponent(), clone(props), componentId);\n        return instance;\n    };\n\n    creator.type = type;\n\n    return creator;\n};\n\nmodule.exports = { compose };\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/composer.js","const propertyUpdater = (type, propsDefinition) => {\n    return (context, component, props, componentId) => {\n        Object.keys(props).forEach(propName => {\n            if (!propsDefinition[propName]) {\n                context.logger.warn(\n                    `property [${propName}] is not defined for the component <${type}>`\n                );\n                return;\n            }\n\n            if (propsDefinition[propName].newComponentRequired === true) {\n                return;\n            }\n\n            const { transformer, setter } = propsDefinition[propName];\n\n            let value;\n            if (transformer) {\n                if (transformer.needLastReturned) {\n                    const keyComponent = `${componentId}::${propName}`;\n                    value = transformer(\n                        context,\n                        props[propName],\n                        context.componentManager.get(keyComponent)\n                    );\n                    context.componentManager.save(keyComponent, value);\n                } else {\n                    value = transformer(context, props[propName]);\n                }\n            } else {\n                value = props[propName];\n            }\n\n            setter(component, value);\n        });\n    };\n};\n\nmodule.exports = propertyUpdater;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/property-updater.js","const transformers = require(\"../helpers/property-transformers\");\nconst setters = require(\"../helpers/property-setters\");\n\nconst createComponent = ({ scene }) => {\n    return scene;\n};\n\nconst props = {\n    clearColor: {\n        setter: setters.property(\"clearColor\"),\n        transformer: transformers.vector3,\n    },\n    ambientColor: {\n        setter: setters.property(\"ambientColor\"),\n        transformer: transformers.vector3,\n    },\n\n};\n\nconst scene = { type: \"scene\", createComponent, props };\n\nmodule.exports = scene;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-scene.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.Mesh.CreateBox(props.name, props.size, scene);\n    return component;\n};\n\nconst props = {\n    size: { newComponentRequired: true },\n    infiniteDistance: {\n        setter: setters.property(\"infiniteDistance\"),\n    },\n    width: { setter: setters.property(\"width\") },\n    height: { setter: setters.property(\"height\") },\n    subdivisions: { setter: setters.property(\"subdivisions\") },\n    material: {\n        setter: setters.propertyFromComponent(\"material\"),\n        transformer: transformers.component,\n    },\n    position: {\n        setter: setters.property(\"position\"),\n        transform: transformers.vector3,\n    },\n};\n\nconst box = { type: \"box\", createComponent, props };\nmodule.exports = box;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-mesh-box.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = BABYLON.Mesh.CreateGround(\n        props.name,\n        props.width,\n        props.height,\n        props.subdivisions,\n        scene\n    );\n    return component;\n};\n\nconst props = {\n    width: { newComponentRequired: true },\n    height: { newComponentRequired: true },\n    subdivisions: { newComponentRequired: true },\n    material: {\n        setter: setters.propertyFromComponent(\"material\"),\n        transformer: transformers.component,\n    },\n\n    position: {\n        setter: setters.property(\"position\"),\n        transformer: transformers.vector3,\n    },\n};\n\nconst ground = { type: \"ground\", createComponent, props };\nmodule.exports = ground;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-mesh-ground.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = BABYLON.Mesh.CreateSphere(\n        props.name,\n        props.segments,\n        props.diameter,\n        scene\n    );\n    return component;\n};\n\nconst props = {\n    segments: { newComponentRequired: true },\n    diameter: { newComponentRequired: true },\n    infiniteDistance: { setter: setters.property(\"infiniteDistance\") },\n    position: {\n        setter: setters.property(\"position\"),\n        transformer: transformers.vector3,\n    },\n    material: {\n        setter: setters.propertyFromComponent(\"material\"),\n        transformer: transformers.component,\n    },\n};\n\nconst sphere = { type: \"sphere\", createComponent, props };\nmodule.exports = sphere;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-mesh-sphere.js","const transformers = require(\"../helpers/property-transformers\");\nconst setters = require(\"../helpers/property-setters\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.FreeCamera(\n        props.name,\n        new BABYLON.Vector3(...props.position),\n        scene\n    );\n    scene.activeCamera = component;\n    if (props.defaultTarget) {\n        component.setTarget(new BABYLON.Vector3(...props.defaultTarget));\n    }\n    return component;\n};\n\nconst props = {\n    position: { newComponentRequired: true },\n    defaultTarget: { newComponentRequired: true },\n    target: {\n        setter: (component, value) => component.setTarget(value),\n        transformer: transformers.vector3,\n    },\n    attachControl: {\n        setter: setters.apply,\n        transformer: (context, value) => {\n            if (value === true) {\n                return component =>\n                    component.attachControl(context.canvas, true);\n            }\n            return component => component.detachControl(context.canvas);\n        },\n    },\n};\n\nconst freeCamera = { type: \"freeCamera\", createComponent, props };\n\nmodule.exports = freeCamera;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-free-camera.js","const setters = require(\"../helpers/property-setters\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.HemisphericLight(\n        props.name,\n        new BABYLON.Vector3(...props.target),\n        scene\n    );\n    return component;\n};\n\nconst props = {\n    target: { newComponentRequired: true },\n    intensity: { setter: setters.property(\"intensity\") },\n};\n\nconst hemisphericLight = { type: \"hemisphericLight\", createComponent, props };\nmodule.exports = hemisphericLight;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-hemispheric-light.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.ShaderMaterial(\n        props.name,\n        scene,\n        props.shaderPath,\n        {\n            attributes: Array.from(props.attributes),\n            uniforms: Array.from(props.uniforms),\n        }\n    );\n    return component;\n};\n\nconst props = {\n    shaderPath: { newComponentRequired: true },\n    attributes: { newComponentRequired: true },\n    uniforms: { newComponentRequired: true },\n\n    diffuseColor: {\n        setter: setters.property(\"diffuseColor\"),\n        transformer: transformers.vector3,\n    },\n    backFaceCulling: { setter: setters.property(\"backFaceCulling\") },\n\n    width: { setter: setters.setFloat(\"width\") },\n    height: { setter: setters.setFloat(\"height\") },\n    boxSize: { setter: setters.setFloat(\"boxSize\") },\n    edgeColor: {\n        setter: setters.setVector4(\"edgeColor\"),\n        transformer: transformers.vector4,\n    },\n    hue: {\n        setter: setters.setVector4(\"hue\"),\n        transformer: transformers.vector4,\n    },\n\n    tileTex: {\n        setter: setters.setTexture(\"tileTex\"),\n        transformer: transformers.component,\n    },\n};\n\nconst shaderMaterial = {\n    superTypes: [\"material\"],\n    type: \"shaderMaterial\",\n    createComponent,\n    props,\n};\n\nmodule.exports = shaderMaterial;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-shader-material.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.StandardMaterial(props.name, scene);\n    return component;\n};\n\nconst props = {\n    backFaceCulling: { setter: setters.property(\"backFaceCulling\") },\n    diffuseColor: {\n        setter: setters.property(\"diffuseColor\"),\n        transformer: transformers.vector3,\n    },\n\n    specularColor: {\n        setter: setters.property(\"specularColor\"),\n        transformer: transformers.vector3,\n    },\n    emissiveColor: {\n        setter: setters.property(\"emissiveColor\"),\n        transformer: transformers.vector3,\n    },\n    ambientColor: {\n        setter: setters.property(\"ambientColor\"),\n        transformer: transformers.vector3,\n    },\n\n    reflectionTexture: {\n        setter: setters.propertyFromComponent(\"reflectionTexture\"),\n        transformer: transformers.component,\n    },\n};\n\nconst standardMaterial = {\n    superTypes: [\"material\"],\n    type: \"standardMaterial\",\n    createComponent,\n    props,\n};\n\nmodule.exports = standardMaterial;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-standard-material.js","const createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.Texture(props.url, scene);\n    return component;\n};\n\nconst props = {\n    url: { newComponentRequired: true },\n};\n\nconst texture = {\n    superTypes: [\"texture\"],\n    type: \"texture\",\n    createComponent,\n    props,\n};\n\nmodule.exports = texture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-texture.js","const setters = require(\"../helpers/property-setters\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.CubeTexture(props.url, scene);\n    return component;\n};\n\nconst props = {\n    url: { newComponentRequired: true },\n    coordinatesMode: {\n        setter: setters.property(\"coordinatesMode\"),\n    },\n};\n\nconst cubeTexture = {\n    superTypes: [\"cubeTexture\"],\n    type: \"cubeTexture\",\n    createComponent,\n    props,\n};\n\nmodule.exports = cubeTexture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-cube-texture.js"],"sourceRoot":""}