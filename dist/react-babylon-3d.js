!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react-reconciler")):"function"==typeof define&&define.amd?define("ReactBabylon3D",["react-reconciler"],r):"object"==typeof exports?exports.ReactBabylon3D=r(require("react-reconciler")):e.ReactBabylon3D=r(e["react-reconciler"])}(window,function(e){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=4)}([function(e,r){var t={property:function(e){var r=function(r,t){return r[e]=t};return r},propertyFromComponent:function(e){var r=function(r,t){return r[e]=t?t.getComponent():void 0};return r},setFloat:function(e){var r=function(r,t){return r.setFloat(e,t)};return r},setVector4:function(e){var r=function(r,t){return r.setVector4(e,t)};return r},setTexture:function(e){var r=function(r,t){var n=t&&t.getComponent?t.getComponent():t;r.setTexture(e,n)};return r},apply:function(e,r){return r(e)}};e.exports=t},function(e,r){var t=function(e,r,t){if(!r)return t&&t.dispose(),null;var n=r.type,o=r.props;return t?(t.updateProps(o),t):e.elements.byType[n]?e.elements.byType[n](e,o):void e.logger.warn("element <"+n+"> not found.")};t.needLastReturned=!0;var n={byPass:function(e,r){return r},arrayOf:function(e){return function(r,t){return t.map(function(t){return e(r,t)})}},color3:function(e,r){var t=e.BABYLON;return new(Function.prototype.bind.apply(t.Color3,[null].concat(r)))},color4:function(e,r){var t=e.BABYLON;return new(Function.prototype.bind.apply(t.Color4,[null].concat(r)))},vector3:function(e,r){var t=e.BABYLON;return new(Function.prototype.bind.apply(t.Vector3,[null].concat(r)))},vector4:function(e,r){var t=e.BABYLON;return new(Function.prototype.bind.apply(t.Vector4,[null].concat(r)))},component:t};e.exports=n},function(e,r){var t={component:function(e,r,t){r&&(t(e,void 0),r.dispose())}};e.exports=t},function(e,r){e.exports={fromPairs:function(e){return e.reduce(function(e,r){var t,n=r[0],o=r[1];return Object.assign(e,((t={})[n]=o,t))},{})}}},function(e,r,t){var n=t(5),o=n.Node,i=n.babylonJSRenderer,a=t(9),u=t(10);e.exports={createRenderer:function(e){var r=e.BABYLON,t=e.canvas,n=new r.Engine(t,!0),s=new r.Scene(n),p=new o("root",{BABYLON:r,canvas:t,componentManager:a.create(),elements:u,engine:n,scene:s,logger:console}),c=i.createContainer(p),f=function(){var e=!1;return function(){e||(e=!0,n.runRenderLoop(function(){return s.render()}))}}();return{render:function(e){i.updateContainer(e,c,null,function(){return f()})},dispose:function(){}}},elements:u}},function(e,r,t){var n=t(6),o=t(7),i=t(8),a=n(o({Node:i,logger:{debug:function(){}}}));a.injectIntoDevTools({bundleType:1,version:"0.2.0",rendererPackageName:"react-babylonjs-3d"}),e.exports={babylonJSRenderer:a,Node:i}},function(r,t){r.exports=e},function(e,r){var t=function(e){function r(){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}(this,e.apply(this,arguments))}return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),r}(Error),n=function(e){return function(){throw new t(e)}},o=function(e,r){return function(){return e.apply(void 0,arguments)}},i=function(e){return e},a=function(e){return e.props},u=function(e,r,t){return Object.assign({},e,{type:r,rootContainer:t})},s=o(function(e,r){return e.appendChild(r)}),p=o(function(e,r){return e.removeChild(r)}),c=o(function(e,r,t,n,o,i){e.cmp.updateProps(r)}),f=o(function(e,r){return e.appendChild(r)}),m=o(function(e,r){return e.removeChild(r)}),d=o(function(e,r,t){});e.exports=function(e){return{supportsMutation:!0,now:function(){return Date.now()},useSyncScheduling:!0,mutation:{appendChild:s,removeChild:p,commitMount:function(e,r,t,n){},commitUpdate:c,appendChildToContainer:f,insertBefore:d,insertInContainerBefore:function(e,r,t){},removeChildFromContainer:m},getRootHostContext:a,getPublicInstance:i,createInstance:function(e){var r=e.Node;return o(function(e,t,n,o,i){var a=new r(e);return n.props.elements.byType[e]&&(a.cmp=n.props.elements.byType[e](o,t)),a})}(e),getChildHostContext:u,commitUpdate:c,appendChild:s,removeChild:p,appendChildToContainer:f,commitMount:function(){},removeChildFromContainer:m,insertBefore:d,finalizeInitialChildren:function(e,r,t,n){return!0},appendInitialChild:s,prepareUpdate:function(e,r,t,n,o,i){return n},prepareForCommit:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(e,r){return!1},resetTextContent:n("resetTextContent"),createTextInstance:n("createTextInstance"),commitTextUpdate:n("commitTextUpdate")}}},function(e,r){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("invalid type of Node ["+(void 0===e?"undefined":t(e))+"]");if("object"!==(void 0===r?"undefined":t(r)))throw new Error("invalid type of props ["+(void 0===r?"undefined":t(r))+"]");this.type=e,this.props=r,this.children=[],this.appendChild=function(e){this.children.push(e),e.parent=this},this.removeChild=function(e){var r=this.children.indexOf(e);for(this.children.splice(r,1);e.children.length>0;)e.removeChild(e.children[e.children.length-1]);e.dispose&&e.dispose()},this.dispose=function(){this.cmp&&this.cmp.dispose&&this.cmp.dispose()}}},function(e,r){e.exports={create:function(){var e=0,r={},t=function(r){if(!r)throw new Error("No id was provided");var t=parseInt(r);if(!t||t>e)throw new Error("Invalid id")};return{newId:function(){return(++e).toString()},save:function(e,n){t(e),n?r[e]=n:delete r[e]},get:function(e){return t(e),r[e]}}}}},function(e,r,t){var n=t(11).compose,o=t(13),i=(0,t(3).fromPairs)([t(14),t(15),t(16),t(17),t(18),t(19),t(20),t(21),t(22),t(23),t(24),t(25),t(26),t(27)].map(function(e){var r=e.type,t=e.props,i=e.createComponent;return[r,n(r,{props:t,createComponent:i},o(r,t))]}));e.exports={styles:{standardMaterial:function(e){return{type:"standardMaterial",props:e}},shaderMaterial:function(e){return{type:"shaderMaterial",props:e}},texture:function(e){return{type:"texture",props:e}},cubeTexture:function(e){return{type:"cubeTexture",props:e}}},byType:i}},function(e,r,t){var n=t(12),o=n.clone,i=n.equals;e.exports={compose:function(e,r,t){!function(e,r,t){if(!e)throw new Error("Component's type is required");if(!r)throw new Error("Component's definition is required");if(!r.createComponent)throw new Error("Component's definition's must have a property createComponent");if(!t)throw new Error("Updater is required")}(e,r,t);var n=function(e){var r=Object.keys(e).filter(function(r){return e[r].newComponentRequired}).reduce(function(e,r){var t;return Object.assign(e,((t={})[r]=!0,t))},{});return function(e,t){for(var n in e)if(r[n]&&!i(t[n],e[n]))return!0;return!1}}(Object.assign({},r.props)),a=function(i,a){var u=o(a),s=void 0,p=void 0,c=function(){return p},f=function(){var e=o(u);p&&p.dispose(),p=r.createComponent(i,e)};f();var m={getComponent:c,updateProps:function(e){var r=n(e,u);Object.assign(u,o(e)),!0!==r?t(i,c(),o(e),s):f()},dispose:function(){"scene"!==e&&(t.dispose(i,c(),u,s),c().dispose())}};return s=i.componentManager.newId(m),t(i,c(),o(u),s),m};return a.type=e,a}}},function(e,r){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={clone:function e(r){if(Array.isArray(r))return r.slice(0);if(r instanceof Date)return new Date(r);if("object"!==(void 0===r?"undefined":t(r)))return r.valueOf();var n=Object.assign({},r);for(var o in r)n[o]=e(r[o]);return n},equals:function e(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(r[o]!==n[o])return!1;return!0}if("object"===(void 0===r?"undefined":t(r))&&"object"===(void 0===n?"undefined":t(n))){for(var i in r)if(!1===e(r[i],n[i]))return!1;for(var a in n)if(!1===e(r[a],n[a]))return!1;return!0}return r===n}}},function(e,r){e.exports=function(e,r){var t=function(t,n,o,i){return Object.keys(o).forEach(function(a){if(r[a]){if(!0!==r[a].newComponentRequired){var u=r[a],s=u.transformer,p=u.setter,c=function(e,r,t,n,o){if(!e)return r;if(!e.needLastReturned)return e(o,r);var i=n+"::"+t,a=e(o,r,o.componentManager.get(i));return o.componentManager.save(i,a),a}(s,o[a],a,i,t);p(n,c)}}else t.logger.warn("property ["+a+"] is not defined for the component <"+e+">")})};return t.dispose=function(e,t,n,o){Object.keys(r).forEach(function(n){var i=r[n];if(i.dispose){var a=o+"::"+n;i.dispose(t,e.componentManager.get(a),r[n].setter)}})},t}},function(e,r,t){var n=t(1),o=t(0),i={type:"scene",createComponent:function(e){return e.scene},props:{clearColor:{setter:o.property("clearColor"),transformer:n.vector3},ambientColor:{setter:o.property("ambientColor"),transformer:n.vector3}}};e.exports=i},function(e,r,t){var n=t(2),o=t(0),i=t(1),a={type:"box",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return new t.Mesh.CreateBox(r.name,r.size,n)},props:{name:{setter:o.property("name")},size:{newComponentRequired:!0},infiniteDistance:{setter:o.property("infiniteDistance")},width:{setter:o.property("width")},height:{setter:o.property("height")},subdivisions:{setter:o.property("subdivisions")},material:{setter:o.propertyFromComponent("material"),transformer:i.component,dispose:n.component},position:{setter:o.property("position"),transform:i.vector3}}};e.exports=a},function(e,r,t){var n=t(2),o=t(0),i=t(1),a={type:"ground",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return t.Mesh.CreateGround(r.name,r.width,r.height,r.subdivisions,n)},props:{name:{setter:o.property("name")},width:{newComponentRequired:!0},height:{newComponentRequired:!0},subdivisions:{newComponentRequired:!0},position:{setter:o.property("position"),transformer:i.vector3},material:{setter:o.propertyFromComponent("material"),transformer:i.component,dispose:n.component}}};e.exports=a},function(e,r,t){var n=t(2),o=t(0),i=t(1),a=t(3).fromPairs,u={height:{newComponentRequired:!0,transformer:i.byPass},diameterTop:{newComponentRequired:!0,transformer:i.byPass},diameterBottom:{newComponentRequired:!0,transformer:i.byPass},tessellation:{newComponentRequired:!0,transformer:i.byPass},subdivisions:{newComponentRequired:!0,transformer:i.byPass},arc:{newComponentRequired:!0,transformer:i.byPass},sideOrientation:{newComponentRequired:!0,transformer:i.byPass},faceColors:{newComponentRequired:!0,transformer:i.arrayOf(i.color3)},faceUV:{newComponentRequired:!0,transformer:i.arrayOf(i.vector4)},frontUVs:{newComponentRequired:!0,transformer:i.vector4},backUVs:{newComponentRequired:!0,transformer:i.vector4},position:{setter:o.property("position"),transformer:i.vector3},rotation:{setter:o.property("rotation"),transformer:i.vector3},material:{setter:o.propertyFromComponent("material"),transformer:i.component,dispose:n.component}},s={type:"cylinder",createComponent:function(e,r){var t=e.BABYLON,n=e.scene,o=function(e,r){return a(Object.keys(r).map(function(e){return{def:u[e],value:r[e],key:e}}).filter(function(e){var r=e.def;return r&&r.newComponentRequired&&r.transformer}).map(function(r){var t=r.def,n=r.value;return[r.key,t.transformer(e,n)]}))}(e,r);return t.MeshBuilder.CreateCylinder(r.name,o,n)},props:u};e.exports=s},function(e,r,t){var n=t(2),o=t(0),i=t(1),a=t(3).fromPairs,u={shape:{newComponentRequired:!0,transformer:i.arrayOf(i.vector3)},path:{newComponentRequired:!0,transformer:i.arrayOf(i.vector3)},scale:{newComponentRequired:!0,transformer:i.byPass},cap:{newComponentRequired:!0,transformer:i.byPass},sideOrientation:{newComponentRequired:!0,transformer:i.byPass},frontUVs:{newComponentRequired:!0,transformer:i.arrayOf(i.vector4)},backUVs:{newComponentRequired:!0,transformer:i.vector4},invertUV:{newComponentRequired:!0,transformer:i.byPass},material:{setter:o.propertyFromComponent("material"),transformer:i.component,dispose:n.component}},s={type:"extrudeShape",createComponent:function(e,r){var t=e.BABYLON,n=e.scene,o=function(e,r){return a(Object.keys(r).map(function(e){return{def:u[e],value:r[e],key:e}}).filter(function(e){var r=e.def;return r&&r.newComponentRequired&&r.transformer}).map(function(r){var t=r.def,n=r.value;return[r.key,t.transformer(e,n)]}))}(e,r);return t.MeshBuilder.ExtrudeShape(r.name,o,n)},props:u};e.exports=s},function(e,r,t){var n=t(0),o=t(1),i=t(3).fromPairs,a={points:{newComponentRequired:!0,transformer:o.arrayOf(o.vector3)},colors:{newComponentRequired:!0,transformer:o.arrayOf(o.color4)},color:{setter:n.property("color"),transformer:o.color3},useVertexColor:{newComponentRequired:!0,transformer:o.byPass}},u={type:"lines",createComponent:function(e,r){var t=e.BABYLON,n=e.scene,o=function(e,r){return i(Object.keys(r).map(function(e){return{def:a[e],value:r[e],key:e}}).filter(function(e){var r=e.def;return r&&r.newComponentRequired&&r.transformer}).map(function(r){var t=r.def,n=r.value;return[r.key,t.transformer(e,n)]}))}(e,r);return t.MeshBuilder.CreateLines(r.name,o,n)},props:a};e.exports=u},function(e,r,t){var n=t(2),o=t(0),i=t(1),a={type:"sphere",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return t.Mesh.CreateSphere(r.name,r.segments,r.diameter,n)},props:{segments:{newComponentRequired:!0},diameter:{newComponentRequired:!0},infiniteDistance:{setter:o.property("infiniteDistance")},position:{setter:o.property("position"),transformer:i.vector3},material:{setter:o.propertyFromComponent("material"),transformer:i.component,dispose:n.component}}};e.exports=a},function(e,r,t){var n=t(1),o=t(0),i={type:"freeCamera",createComponent:function(e,r){var t=e.BABYLON,n=e.scene,o=new t.FreeCamera(r.name,new(Function.prototype.bind.apply(t.Vector3,[null].concat(r.position))),n);return n.activeCamera=o,r.defaultTarget&&o.setTarget(new(Function.prototype.bind.apply(t.Vector3,[null].concat(r.defaultTarget)))),o},props:{position:{newComponentRequired:!0},defaultTarget:{newComponentRequired:!0},target:{setter:function(e,r){return e.setTarget(r)},transformer:n.vector3},attachControl:{setter:o.apply,transformer:function(e,r){return!0===r?function(r){return r.attachControl(e.canvas,!0)}:function(r){return r.detachControl(e.canvas)}}}}};e.exports=i},function(e,r,t){var n=t(1),o=t(0),i={type:"arcRotateCamera",createComponent:function(e,r){var t=e.BABYLON,n=e.scene,o=new t.ArcRotateCamera(r.name,r.alpha,r.beta,r.radius,new(Function.prototype.bind.apply(t.Vector3,[null].concat(r.target))),n);return n.activeCamera=o,o},props:{alpha:{newComponentRequired:!0},beta:{newComponentRequired:!0},radius:{newComponentRequired:!0},target:{setter:function(e,r){return e.setTarget(r)},transformer:n.vector3},position:{setter:function(e,r){return e.setPosition(r)},transformer:n.vector3},attachControl:{setter:o.apply,transformer:function(e,r){return!0===r?function(r){return r.attachControl(e.canvas,!0)}:function(r){return r.detachControl(e.canvas)}}}}};e.exports=i},function(e,r,t){var n=t(0),o={type:"hemisphericLight",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return new t.HemisphericLight(r.name,new(Function.prototype.bind.apply(t.Vector3,[null].concat(r.target))),n)},props:{target:{newComponentRequired:!0},intensity:{setter:n.property("intensity")},name:{setter:n.property("name")}}};e.exports=o},function(e,r,t){var n=t(2),o=t(0),i=t(1),a={superTypes:["material"],type:"shaderMaterial",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return new t.ShaderMaterial(r.name,n,r.shaderPath,{attributes:Array.from(r.attributes||[]),uniforms:Array.from(r.uniforms||[])})},props:{name:{setter:o.property("name")},shaderPath:{newComponentRequired:!0},attributes:{newComponentRequired:!0},uniforms:{newComponentRequired:!0},diffuseColor:{setter:o.property("diffuseColor"),transformer:i.vector3},backFaceCulling:{setter:o.property("backFaceCulling")},width:{setter:o.setFloat("width")},height:{setter:o.setFloat("height")},boxSize:{setter:o.setFloat("boxSize")},edgeColor:{setter:o.setVector4("edgeColor"),transformer:i.vector4},hue:{setter:o.setVector4("hue"),transformer:i.vector4},tileTex:{setter:o.setTexture("tileTex"),transformer:i.component,dispose:n.component}}};e.exports=a},function(e,r,t){var n=t(2),o=t(0),i=t(1),a={superTypes:["material"],type:"standardMaterial",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return new t.StandardMaterial(r.name,n)},props:{name:{setter:o.property("name")},backFaceCulling:{setter:o.property("backFaceCulling")},diffuseColor:{setter:o.property("diffuseColor"),transformer:i.vector3},specularColor:{setter:o.property("specularColor"),transformer:i.vector3},emissiveColor:{setter:o.property("emissiveColor"),transformer:i.vector3},ambientColor:{setter:o.property("ambientColor"),transformer:i.vector3},reflectionTexture:{setter:o.propertyFromComponent("reflectionTexture"),transformer:i.component,dispose:n.component},diffuseTexture:{setter:o.propertyFromComponent("diffuseTexture"),transformer:i.component,dispose:n.component}}};e.exports=a},function(e,r){var t={superTypes:["texture"],type:"texture",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return new t.Texture(r.url,n)},props:{url:{newComponentRequired:!0}}};e.exports=t},function(e,r,t){var n={superTypes:["cubeTexture"],type:"cubeTexture",createComponent:function(e,r){var t=e.BABYLON,n=e.scene;return new t.CubeTexture(r.url,n)},props:{url:{newComponentRequired:!0},coordinatesMode:{setter:t(0).property("coordinatesMode")}}};e.exports=n}])});
//# sourceMappingURL=react-babylon-3d.js.map