{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6abe8ac6db3d6c7505be","webpack:///./src/babylonjs/helpers/property-transformers.js","webpack:///./src/babylonjs/helpers/property-setters.js","webpack:///./src/index.js","webpack:///./src/react-api/index.js","webpack:///./src/react-api/node.js","webpack:///./src/react-api/babylonjs-renderer.js","webpack:///external \"react\"","webpack:///external \"react-reconciler\"","webpack:///./src/babylonjs/helpers/component-manager.js","webpack:///./src/babylonjs/elements.js","webpack:///./src/babylonjs/helpers/composer.js","webpack:///./src/babylonjs/helpers/property-updater.js","webpack:///./src/babylonjs/components/component-scene.js","webpack:///./src/babylonjs/components/component-mesh-box.js","webpack:///./src/babylonjs/components/component-mesh-ground.js","webpack:///./src/babylonjs/components/component-mesh-sphere.js","webpack:///./src/babylonjs/components/component-free-camera.js","webpack:///./src/babylonjs/components/component-hemispheric-light.js","webpack:///./src/babylonjs/styles/style-shader-material.js","webpack:///./src/babylonjs/styles/style-standard-material.js","webpack:///./src/babylonjs/styles/style-texture.js","webpack:///./src/babylonjs/styles/style-cube-texture.js"],"names":["vector3","value","BABYLON","Vector3","vector4","Vector4","component","context","prevReturned","dispose","type","props","updateProps","elements","byType","logger","warn","needLastReturned","transformers","module","exports","setters","property","propName","propertyFromComponent","getComponent","undefined","setFloat","setVector4","setTexture","newValue","apply","require","Node","BabylonJSRenderer","componentManager","createRenderer","canvas","engine","Engine","scene","Scene","rootNode","create","console","rootContainer","createContainer","startLoop","loopStarted","runRenderLoop","render","updateContainer","Component","DEBUG","root","children","appendChild","child","push","removeChild","a","b","index","indexOf","slice","ErrorNotImplemented","Error","React","ReactFiberReconciler","i","buildFiberPath","sibling","fiber","debug_fiber","return","stateNode","mutation","commitMount","instance","newProps","internalInstanceHandle","commitUpdate","updatePayload","oldProps","cmp","rootContext","hostContext","Object","keys","filter","key","forEach","propertySetter","parentInstance","addChild","appendChildToContainer","insertBefore","beforeChild","insertInContainerBefore","removeChildFromContainer","useSyncScheduling","getPublicInstance","getRootHostContext","container","assign","iAmTheHost","getChildHostContext","parentContext","now","Date","createInstance","rootContainerInstance","ele","createElement","finalizeInitialChildren","appendInitialChild","prepareUpdate","prepareForCommit","resetAfterCommit","shouldSetTextContent","resetTextContent","createTextInstance","text","commitTextUpdate","textInstance","oldText","newText","injectIntoDevTools","bundleType","version","rendererPackageName","TmpNode","values","item","parent","length","splice","processProps","propsPayload","style","event","tag","arePropsEqual","ComponentManager","_lastId","_cache","validateId","componentId","id","parseInt","newId","toString","save","get","compose","propertyUpdater","styles","standardMaterial","shaderMaterial","texture","cubeTexture","fromPairs","arr","reduce","obj","map","createComponent","equals","Array","isArray","clone","newObj","validateComponent","definition","updater","shouldCreateNewComponent","defs","propsDefinitions","def","newComponentRequired","acc","currentProps","prop","definitionProps","requireNewComponent","creator","providedProps","baseComponent","internalCreateComponent","tmpProps","createNewComponent","propsDefinition","transformer","setter","keyComponent","clearColor","ambientColor","Mesh","CreateBox","name","size","infiniteDistance","width","height","subdivisions","material","position","transform","box","CreateGround","ground","CreateSphere","segments","diameter","sphere","FreeCamera","activeCamera","defaultTarget","setTarget","target","attachControl","detachControl","freeCamera","HemisphericLight","intensity","hemisphericLight","ShaderMaterial","shaderPath","attributes","from","uniforms","diffuseColor","backFaceCulling","boxSize","edgeColor","hue","tileTex","superTypes","StandardMaterial","specularColor","emissiveColor","reflectionTexture","Texture","url","CubeTexture","coordinatesMode"],"mappings":"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","file":"react-babylon-3d.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-reconciler\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ReactBabylon3D\", [\"react\", \"react-reconciler\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactBabylon3D\"] = factory(require(\"react\"), require(\"react-reconciler\"));\n\telse\n\t\troot[\"ReactBabylon3D\"] = factory(root[\"react\"], root[\"react-reconciler\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6abe8ac6db3d6c7505be","const vector3 = ({ BABYLON }, value) => new BABYLON.Vector3(...value);\nconst vector4 = ({ BABYLON }, value) => new BABYLON.Vector4(...value);\n\nconst component = (context, value, prevReturned) => {\n    if (!value) {\n        if (prevReturned) {\n            prevReturned.dispose();\n        }\n\n        return null;\n    }\n\n    const { type, props } = value;\n\n    if (prevReturned) {\n        prevReturned.updateProps(props);\n        return prevReturned;\n    }\n\n    if (!context.elements.byType[type]) {\n        context.logger.warn(`element <${type}> not found.`);\n        return;\n    }\n\n    return context.elements.byType[type](context, props);\n};\ncomponent.needLastReturned = true;\n\nconst transformers = {\n    vector3,\n    vector4,\n    component,\n};\n\nmodule.exports = transformers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/property-transformers.js","const setters = {\n    property: propName => {\n        const property = (component, value) => (component[propName] = value);\n        return property;\n    },\n    propertyFromComponent: propName => {\n        const propertyFromComponent = (component, value) =>\n            (component[propName] = value ? value.getComponent() : undefined);\n        return propertyFromComponent;\n    },\n    setFloat: propName => {\n        const setFloat = (component, value) =>\n            component.setFloat(propName, value);\n        return setFloat;\n    },\n    setVector4: propName => {\n        const setVector4 = (component, value) =>\n            component.setVector4(propName, value);\n        return setVector4;\n    },\n    setTexture: propName => {\n        const setTexture = (component, value) => {\n            const newValue =\n                value && value.getComponent ? value.getComponent() : value;\n            component.setTexture(propName, newValue);\n        };\n        return setTexture;\n    },\n    apply: (component, value) => value(component),\n};\n\nmodule.exports = setters;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/property-setters.js","const { Node, BabylonJSRenderer } = require(\"./react-api\");\nconst componentManager = require(\"./babylonjs/helpers/component-manager\");\nconst elements = require(\"./babylonjs/elements\");\n\nconst createRenderer = ({ BABYLON, canvas }) => {\n    const engine = new BABYLON.Engine(canvas, true);\n    const scene = new BABYLON.Scene(engine);\n    const rootNode = new Node(undefined, {\n        BABYLON,\n        canvas,\n        componentManager: componentManager.create(),\n        elements,\n        engine,\n        scene,\n        logger: console,\n        type: \"root\",\n    });\n\n    const rootContainer = BabylonJSRenderer.createContainer(rootNode);\n\n    const startLoop = (function() {\n        let loopStarted = false;\n        return () => {\n            if (!loopStarted) {\n                loopStarted = true;\n                engine.runRenderLoop(() => scene.render());\n            }\n        };\n    })();\n\n    const render = Component => {\n        BabylonJSRenderer.updateContainer(Component, rootContainer, null, () =>\n            startLoop()\n        );\n    };\n\n    const dispose = () => {};\n\n    return {\n        render,\n        dispose,\n    };\n};\n\nmodule.exports = { createRenderer, elements };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const Node = require(\"./node.js\");\nconst BabylonJSRenderer = require(\"./babylonjs-renderer\");\n\nmodule.exports = { BabylonJSRenderer, Node };\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-api/index.js","const DEBUG = () => {};\nclass Node {\n    // Stores all the children\n\n    constructor(root, props) {\n        DEBUG(\"@@Node.constructor\");\n        this.root = root;\n        this.props = props;\n        this.children = [];\n    }\n\n    appendChild(child) {\n        DEBUG(\"@@Node.appendChild\", { child });\n        this.children.push(child);\n    }\n\n    removeChild(child, a, b) {\n        DEBUG(\"@@Node.removeChild\", { child, a, b });\n        const index = this.children.indexOf(child);\n        this.children.slice(index, 1);\n    }\n}\n\nmodule.exports = Node;\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-api/node.js","// 1. evetns\n// 1.1 warning message event doesn't exist\n// 1.2 not recreate the component if the handler hasn't changed\n// 2. compose properties\n// 3. re-creatiing babylon component?\n// 3.1 as it for now just throws an Error\n\n// const babylonjsFactoryComponent = require(\"./babylonjs-factory-component\");\nclass ErrorNotImplemented extends Error {}\n\nconst React = require(\"react\");\n\nconst ReactFiberReconciler = require(\"react-reconciler\");\n\nlet i = 0;\nconst buildFiberPath = ({ child, sibling, ...fiber }) => {\n    return [{ child, sibling }];\n};\n\nconst debug_fiber = ({ return: fiber }) => {\n    return { stateNode: fiber.stateNode, type: fiber.type, fiber };\n};\nconst DEBUG = () => {};\nconst mutation = {\n    commitMount(\n        instance: Instance,\n        type: string,\n        newProps: Props,\n        internalInstanceHandle: Object\n    ): void {\n        DEBUG(\n            \"-@@@MUTATION.commitMount\",\n            type,\n            // {\n            //     newProps,\n            //     instance,\n            //     internalInstanceHandle,\n            // },\n            // ...buildFiberPath(internalInstanceHandle),\n            debug_fiber(internalInstanceHandle)\n        );\n    },\n\n    commitUpdate(\n        instance: Instance,\n        updatePayload: Object,\n        type: string,\n        oldProps: Props,\n        newProps: Props,\n        internalInstanceHandle: Object\n    ): void {\n        DEBUG(\n            \"+@@@MUTATION.commitUpdate\",\n            type,\n            // {\n            //     updatePayload,\n            //     oldProps,\n            //     newProps,\n            //     instance,\n            //     internalInstanceHandle,\n            // },\n            debug_fiber(internalInstanceHandle)\n        );\n\n        if (instance.cmp && instance.cmp.updateProps) {\n            instance.cmp.updateProps(updatePayload);\n            return;\n        }\n\n        const { rootContext, hostContext } = updatePayload;\n        Object.keys(newProps)\n            .filter(key => instance[key] && typeof instance[key] === \"function\")\n            .forEach(propertySetter => {\n                instance[propertySetter](\n                    rootContext,\n                    hostContext,\n                    instance.cmp,\n                    newProps,\n                    oldProps\n                );\n            });\n    },\n\n    appendChild(\n        parentInstance: Instance | Container,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\n            `+@@@MUTATION.appendChild ${child.type} into => ${parentInstance.type}`,\n            {\n                parentInstance,\n                child,\n            }\n        );\n        parentInstance.addChild(child);\n        // if (parentInstance.appendChild) {\n        //     parentInstance.appendChild(child);\n        // } else {\n        //     parentInstance.babylonJSStuff = child;\n        // }\n    },\n    appendChildToContainer(\n        parentInstance: Container,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(`-@@@MUTATION.appendChildToContainer`, { parentInstance, child });\n    },\n\n    insertBefore(\n        parentInstance: Instance,\n        child: Instance | TextInstance,\n        beforeChild: Instance | TextInstance\n    ): void {\n        DEBUG(\"-@@@MUTATION.insertBefore\", {\n            parentInstance,\n            child,\n            beforeChild,\n        });\n        // noop\n    },\n    insertInContainerBefore(\n        parentInstance: Container,\n        child: Instance | TextInstance,\n        beforeChild: Instance | TextInstance\n    ): void {\n        DEBUG(`-@@@MUTATION.insertInContainerBefore`);\n    },\n\n    removeChild(\n        parentInstance: Instance,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\"+@@@MUTATION.removeChild\", child);\n        parentInstance.removeChild(child);\n    },\n    removeChildFromContainer(\n        parentInstance: Container,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(`-@@@MUTATION.removeChildFromContainer`);\n    },\n};\n\nconst BabylonJSRenderer = ReactFiberReconciler({\n    mutation,\n    useSyncScheduling: true,\n    getPublicInstance(instance) {\n        DEBUG(\"@@BabylonJSRenderer.getPublicInstance\");\n        return instance;\n    },\n    getRootHostContext(container) {\n        DEBUG(\n            \"BabylonJSRenderer.getRootHostContext\",\n            container.props,\n            container.children\n        );\n        return Object.assign({ iAmTheHost: true }, container.props);\n    },\n    getChildHostContext(parentContext, type: string, rootContainer) {\n        i++;\n        DEBUG(`BabylonJSRenderer.getChildHostContext-${i}}`, {\n            parentContext,\n            type,\n            rootContainer,\n        });\n        return Object.assign(\n            {\n                [`childHostContext${i}`]: `childddddd`,\n            },\n            parentContext,\n            { type, rootContainer }\n        );\n    },\n\n    now: () => Date.now(),\n\n    createInstance(\n        type: string,\n        props: Props,\n        rootContainerInstance: Container,\n        hostContext: {},\n        internalInstanceHandle: Object\n    ): Instance {\n        DEBUG(\n            \"BabylonJSRenderer.createInstance\",\n            {\n                type,\n                props,\n                rootContainerInstance,\n                hostContext,\n                internalInstanceHandle,\n            },\n            ...buildFiberPath(internalInstanceHandle)\n        );\n\n        const ele = createElement(\n            rootContainerInstance,\n            hostContext,\n            type,\n            props\n        );\n\n        if (ele.cmp) {\n            // ele.dispose = () => DEBUG('************');\n            ele.dispose = () => ele.cmp.dispose();\n        }\n        return ele;\n    },\n\n    // at this stage all children were created and already had the `finalizeInitialChildren` executed\n    // 1. when a component's created it's possible to set some default values\n    // 2. also some actions, such as setting focus\n    // 3. if it returns true, eventually it will trigger a commitMount\n    // 4. another thing(if not the most important) you should set the properties in your component\n    finalizeInitialChildren(\n        instance: Instance,\n        type: string,\n        props: Props,\n        rootContainerInstance: Container\n    ): boolean {\n        DEBUG(\"BabylonJSRenderer.finalizeInitialChildren\", {\n            type,\n            props,\n            instance,\n            rootContainerInstance,\n        });\n        return true;\n    },\n    appendInitialChild(\n        parentInstance: Instance,\n        child: Instance | TextInstance\n    ): void {\n        DEBUG(\n            `+BabylonJSRenderer.appendInitialChild ${child.type} into => ${parentInstance.type}`,\n            {\n                parentInstance,\n                child,\n            }\n        );\n        parentInstance.addChild(child);\n        // if (parentInstance.appendChild) {\n        //     parentInstance.appendChild(child);\n        // } else {\n        //     parentInstance.babylonJSStuff = child;\n        // }\n    },\n\n    // decides if there is any update to be done\n    // if there is no change to apply, then just returns null\n    // otherwise to make your life easier, calculate what needs to be changed and return it\n    // it's result will be passed to `mutation.commitUpdate` as `updatePayload` (2nd parameter)\n    prepareUpdate(\n        instance: Instance,\n        type: string,\n        oldProps: Props,\n        newProps: Props,\n        rootContainerInstance: Container,\n        hostContext: {}\n    ): null | Object {\n        DEBUG(\"BabylonJSRenderer.prepareUpdate\", {\n            type,\n            instance,\n            oldProps,\n            newProps,\n        });\n        // if (arePropsEqual(oldProps, newProps)) {\n        //     return newProps;\n        // }\n\n        return newProps;\n    },\n    // **********************************\n    // hooks whenever an update happens\n    // **********************************\n    prepareForCommit() {\n        DEBUG(\"-BabylonJSRenderer.prepareForCommit\");\n        // noop\n    },\n\n    resetAfterCommit() {\n        DEBUG(\"-BabylonJSRenderer.resetAfterCommit\");\n        // noop\n    },\n\n    // **********************************\n    // as it doesn't support pure text content....\n    // **********************************\n    shouldSetTextContent(type: string, props: Props): boolean {\n        return false;\n    },\n    resetTextContent(instance: Instance): void {\n        throw new ErrorNotImplemented();\n    },\n    createTextInstance(\n        text,\n        rootContainerInstance,\n        hostContext,\n        internalInstanceHandle\n    ) {\n        throw new ErrorNotImplemented();\n    },\n    commitTextUpdate(\n        textInstance: TextInstance,\n        oldText: string,\n        newText: string\n    ): void {\n        throw new ErrorNotImplemented();\n    },\n    // **********************************\n    // **********************************\n});\n\nBabylonJSRenderer.injectIntoDevTools({\n    bundleType: 0, // 0 for PROD, 1 for DEV\n    version: \"0.1.0\", // version for your renderer\n    rendererPackageName: \"babylon3d\", // package name\n});\n\nmodule.exports = BabylonJSRenderer;\n\nfunction TmpNode(values) {\n    Object.keys(values).forEach(key => (this[key] = values[key]));\n    this.children = [];\n\n    this.addChild = function(item) {\n        this.children.push(item);\n        item.parent = this;\n    };\n\n    this.removeChild = function(child) {\n        while (child.children.length > 0)\n            child.removeChild(child.children[child.children.length - 1]);\n\n        const index = this.children.indexOf(child);\n        if (index >= 0) {\n            this.children.splice(index, 1);\n        }\n        if (child.dispose) {\n            child.dispose();\n        }\n    };\n\n    this.dispose = function() {\n        if (this.cmp && this.cmp.dispose) {\n            ele.cmp.dispose();\n        }\n    };\n}\n\nfunction createElement(rootContext, parentContext, type, props) {\n    const ele = new TmpNode({ type, props });\n\n    if (rootContext.props.elements.byType[type]) {\n        ele.cmp = rootContext.props.elements.byType[type](parentContext, props);\n        return ele;\n    }\n\n    return ele;\n}\n\nfunction processProps(instance: number, props: Props): Object {\n    const propsPayload = {};\n    for (let key in props) {\n        if (key === \"children\") {\n            // Skip special case.\n            continue;\n        }\n        let value = props[key];\n        if (typeof value === \"function\") {\n            value = {\n                style: \"rt-event\",\n                event: key,\n                tag: instance,\n            };\n        }\n        propsPayload[key] = value;\n    }\n    return propsPayload;\n}\n\nfunction arePropsEqual(oldProps: Props, newProps: Props): boolean {\n    for (let key in newProps) {\n        if (key === \"children\") {\n            // Skip special case.\n            continue;\n        }\n\n        if (newProps[key] !== oldProps[key]) {\n            return false;\n        }\n    }\n\n    for (let key in oldProps) {\n        if (key === \"children\") {\n            // Skip special case.\n            continue;\n        }\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/react-api/babylonjs-renderer.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-reconciler\"\n// module id = 7\n// module chunks = 0","const ComponentManager = () => {\n    let _lastId = 0;\n    const _cache = {};\n    const validateId = componentId => {\n        if (!componentId) {\n            throw new Error(\"No id was provided\");\n        }\n\n        const id = parseInt(componentId);\n\n        if (!id || id > _lastId) {\n            throw new Error(\"Invalid id\");\n        }\n    };\n\n    const newId = () => (++_lastId).toString();\n    const save = (componentId, component) => {\n        validateId(componentId);\n        if (component) {\n            _cache[componentId] = component;\n        } else {\n            delete _cache[componentId];\n        }\n    };\n    const get = componentId => {\n        validateId(componentId);\n        return _cache[componentId];\n    };\n\n    return {\n        newId,\n        save,\n        get,\n    };\n};\n\nmodule.exports = { create: ComponentManager };\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/component-manager.js","const { compose } = require(\"./helpers/composer\");\nconst propertyUpdater = require(\"./helpers/property-updater\");\n\nconst styles = {\n    standardMaterial: props => ({ type: \"standardMaterial\", props }),\n    shaderMaterial: props => ({ type: \"shaderMaterial\", props }),\n    texture: props => ({ type: \"texture\", props }),\n    cubeTexture: props => ({ type: \"cubeTexture\", props }),\n};\n\nconst fromPairs = arr =>\n    arr.reduce((obj, [key, value]) => Object.assign(obj, { [key]: value }), {});\n\nconst byType = fromPairs(\n    [\n        require(\"./components/component-scene\"),\n        require(\"./components/component-mesh-box\"),\n        require(\"./components/component-mesh-ground\"),\n        require(\"./components/component-mesh-sphere\"),\n        require(\"./components/component-free-camera\"),\n        require(\"./components/component-hemispheric-light\"),\n\n        require(\"./styles/style-shader-material\"),\n        require(\"./styles/style-standard-material\"),\n\n        require(\"./styles/style-texture\"),\n        require(\"./styles/style-cube-texture\"),\n    ].map(({ type, props, createComponent }) => [\n        type,\n        compose(type, { props, createComponent }, propertyUpdater(type, props)),\n    ])\n);\n\nmodule.exports = { styles, byType };\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/elements.js","const equals = (a, b) => {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n\n        for (let i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    if (typeof a === \"object\" && typeof b === \"object\") {\n        for (let key in a) {\n            if (equals(a[key], b[key]) === false) {\n                return false;\n            }\n        }\n\n        for (let key in b) {\n            if (equals(a[key], b[key]) === false) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    return a === b;\n};\n\nconst clone = obj => {\n    if (Array.isArray(obj)) {\n        return obj.slice(0);\n    }\n\n    if (typeof obj !== \"object\") {\n        return obj;\n    }\n\n    const newObj = Object.assign({}, obj);\n\n    for (let key in obj) {\n        newObj[key] = clone(obj[key]);\n    }\n\n    return newObj;\n};\n\nconst validateComponent = (type, definition, updater) => {\n    if (!type) {\n        throw new Error(\"Component's type is required\");\n    }\n\n    if (!definition) {\n        throw new Error(\"Component's definition is required\");\n    }\n\n    if (!definition.createComponent) {\n        throw new Error(\n            \"Component's definition's must have a property createComponent\"\n        );\n    }\n\n    if (!updater) {\n        throw new Error(\"Updater is required\");\n    }\n};\n\nconst shouldCreateNewComponent = propsDefinitions => {\n    const defs = Object.keys(propsDefinitions)\n        .filter(def => propsDefinitions[def].newComponentRequired)\n        .reduce((acc, key) => Object.assign(acc, { [key]: true }), {});\n\n    return (props, currentProps) => {\n        for (let prop in props) {\n            if (defs[prop] && !equals(currentProps[prop], props[prop])) {\n                return true;\n            }\n        }\n        return false;\n    };\n};\n\nconst compose = (type, definition, updater) => {\n    validateComponent(type, definition, updater);\n\n    const definitionProps = Object.assign({}, definition.props);\n\n    const requireNewComponent = shouldCreateNewComponent(definitionProps);\n\n    const creator = (context, providedProps) => {\n        const props = clone(providedProps);\n\n        let componentId;\n        let baseComponent;\n\n        const getComponent = () => baseComponent;\n        const internalCreateComponent = () => {\n            const tmpProps = clone(props);\n            if (baseComponent) {\n                baseComponent.dispose();\n            }\n            baseComponent = definition.createComponent(context, tmpProps);\n        };\n\n        internalCreateComponent();\n\n        const instance = {\n            getComponent,\n            updateProps: values => {\n                const createNewComponent = requireNewComponent(values, props);\n\n                Object.assign(props, clone(values));\n\n                if (createNewComponent === true) {\n                    internalCreateComponent();\n                    return;\n                }\n                updater(context, getComponent(), clone(values), componentId);\n            },\n            dispose: () => getComponent().dispose(),\n        };\n\n        componentId = context.componentManager.newId(instance);\n        updater(context, getComponent(), clone(props), componentId);\n        return instance;\n    };\n\n    creator.type = type;\n\n    return creator;\n};\n\nmodule.exports = { compose };\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/composer.js","const propertyUpdater = (type, propsDefinition) => {\n    return (context, component, props, componentId) => {\n        Object.keys(props).forEach(propName => {\n            if (!propsDefinition[propName]) {\n                context.logger.warn(\n                    `property [${propName}] is not defined for the component <${type}>`\n                );\n                return;\n            }\n\n            if (propsDefinition[propName].newComponentRequired === true) {\n                return;\n            }\n\n            const { transformer, setter } = propsDefinition[propName];\n\n            let value;\n            if (transformer) {\n                if (transformer.needLastReturned) {\n                    const keyComponent = `${componentId}::${propName}`;\n                    value = transformer(\n                        context,\n                        props[propName],\n                        context.componentManager.get(keyComponent)\n                    );\n                    context.componentManager.save(keyComponent, value);\n                } else {\n                    value = transformer(context, props[propName]);\n                }\n            } else {\n                value = props[propName];\n            }\n\n            setter(component, value);\n        });\n    };\n};\n\nmodule.exports = propertyUpdater;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/helpers/property-updater.js","const transformers = require(\"../helpers/property-transformers\");\nconst setters = require(\"../helpers/property-setters\");\n\nconst createComponent = ({ scene }) => {\n    return scene;\n};\n\nconst props = {\n    clearColor: {\n        setter: setters.property(\"clearColor\"),\n        transformer: transformers.vector3,\n    },\n    ambientColor: {\n        setter: setters.property(\"ambientColor\"),\n        transformer: transformers.vector3,\n    },\n\n};\n\nconst scene = { type: \"scene\", createComponent, props };\n\nmodule.exports = scene;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-scene.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.Mesh.CreateBox(props.name, props.size, scene);\n    return component;\n};\n\nconst props = {\n    size: { newComponentRequired: true },\n    infiniteDistance: {\n        setter: setters.property(\"infiniteDistance\"),\n    },\n    width: { setter: setters.property(\"width\") },\n    height: { setter: setters.property(\"height\") },\n    subdivisions: { setter: setters.property(\"subdivisions\") },\n    material: {\n        setter: setters.propertyFromComponent(\"material\"),\n        transformer: transformers.component,\n    },\n    position: {\n        setter: setters.property(\"position\"),\n        transform: transformers.vector3,\n    },\n};\n\nconst box = { type: \"box\", createComponent, props };\nmodule.exports = box;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-mesh-box.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = BABYLON.Mesh.CreateGround(\n        props.name,\n        props.width,\n        props.height,\n        props.subdivisions,\n        scene\n    );\n    return component;\n};\n\nconst props = {\n    width: { newComponentRequired: true },\n    height: { newComponentRequired: true },\n    subdivisions: { newComponentRequired: true },\n    material: {\n        setter: setters.propertyFromComponent(\"material\"),\n        transformer: transformers.component,\n    },\n\n    position: {\n        setter: setters.property(\"position\"),\n        transformer: transformers.vector3,\n    },\n};\n\nconst ground = { type: \"ground\", createComponent, props };\nmodule.exports = ground;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-mesh-ground.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = BABYLON.Mesh.CreateSphere(\n        props.name,\n        props.segments,\n        props.diameter,\n        scene\n    );\n    return component;\n};\n\nconst props = {\n    segments: { newComponentRequired: true },\n    diameter: { newComponentRequired: true },\n    infiniteDistance: { setter: setters.property(\"infiniteDistance\") },\n    position: {\n        setter: setters.property(\"position\"),\n        transformer: transformers.vector3,\n    },\n    material: {\n        setter: setters.propertyFromComponent(\"material\"),\n        transformer: transformers.component,\n    },\n};\n\nconst sphere = { type: \"sphere\", createComponent, props };\nmodule.exports = sphere;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-mesh-sphere.js","const transformers = require(\"../helpers/property-transformers\");\nconst setters = require(\"../helpers/property-setters\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.FreeCamera(\n        props.name,\n        new BABYLON.Vector3(...props.position),\n        scene\n    );\n    scene.activeCamera = component;\n    if (props.defaultTarget) {\n        component.setTarget(new BABYLON.Vector3(...props.defaultTarget));\n    }\n    return component;\n};\n\nconst props = {\n    position: { newComponentRequired: true },\n    defaultTarget: { newComponentRequired: true },\n    target: {\n        setter: (component, value) => component.setTarget(value),\n        transformer: transformers.vector3,\n    },\n    attachControl: {\n        setter: setters.apply,\n        transformer: (context, value) => {\n            if (value === true) {\n                return component =>\n                    component.attachControl(context.canvas, true);\n            }\n            return component => component.detachControl(context.canvas);\n        },\n    },\n};\n\nconst freeCamera = { type: \"freeCamera\", createComponent, props };\n\nmodule.exports = freeCamera;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-free-camera.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.HemisphericLight(\n        props.name,\n        new BABYLON.Vector3(...props.target),\n        scene\n    );\n    return component;\n};\n\nconst props = {\n    target: { newComponentRequired: true },\n    intensity: { setter: setters.property(\"intensity\") },\n};\n\nconst hemisphericLight = { type: \"hemisphericLight\", createComponent, props };\nmodule.exports = hemisphericLight;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/components/component-hemispheric-light.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.ShaderMaterial(\n        props.name,\n        scene,\n        props.shaderPath,\n        {\n            attributes: Array.from(props.attributes),\n            uniforms: Array.from(props.uniforms),\n        }\n    );\n    return component;\n};\n\nconst props = {\n    shaderPath: { newComponentRequired: true },\n    attributes: { newComponentRequired: true },\n    uniforms: { newComponentRequired: true },\n\n    diffuseColor: {\n        setter: setters.property(\"diffuseColor\"),\n        transformer: transformers.vector3,\n    },\n    backFaceCulling: { setter: setters.property(\"backFaceCulling\") },\n\n    width: { setter: setters.setFloat(\"width\") },\n    height: { setter: setters.setFloat(\"height\") },\n    boxSize: { setter: setters.setFloat(\"boxSize\") },\n    edgeColor: {\n        setter: setters.setVector4(\"edgeColor\"),\n        transformer: transformers.vector4,\n    },\n    hue: {\n        setter: setters.setVector4(\"hue\"),\n        transformer: transformers.vector4,\n    },\n\n    tileTex: {\n        setter: setters.setTexture(\"tileTex\"),\n        transformer: transformers.component,\n    },\n};\n\nconst shaderMaterial = {\n    superTypes: [\"material\"],\n    type: \"shaderMaterial\",\n    createComponent,\n    props,\n};\n\nmodule.exports = shaderMaterial;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-shader-material.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.StandardMaterial(props.name, scene);\n    return component;\n};\n\nconst props = {\n    backFaceCulling: { setter: setters.property(\"backFaceCulling\") },\n    diffuseColor: {\n        setter: setters.property(\"diffuseColor\"),\n        transformer: transformers.vector3,\n    },\n\n    specularColor: {\n        setter: setters.property(\"specularColor\"),\n        transformer: transformers.vector3,\n    },\n    emissiveColor: {\n        setter: setters.property(\"emissiveColor\"),\n        transformer: transformers.vector3,\n    },\n    ambientColor: {\n        setter: setters.property(\"ambientColor\"),\n        transformer: transformers.vector3,\n    },\n\n    reflectionTexture: {\n        setter: setters.propertyFromComponent(\"reflectionTexture\"),\n        transformer: transformers.component,\n    },\n};\n\nconst standardMaterial = {\n    superTypes: [\"material\"],\n    type: \"standardMaterial\",\n    createComponent,\n    props,\n};\n\nmodule.exports = standardMaterial;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-standard-material.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.Texture(props.url, scene);\n    return component;\n};\n\nconst props = {\n    url: { newComponentRequired: true },\n};\n\nconst texture = {\n    superTypes: [\"texture\"],\n    type: \"texture\",\n    createComponent,\n    props,\n};\n\nmodule.exports = texture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-texture.js","const setters = require(\"../helpers/property-setters\");\nconst transformers = require(\"../helpers/property-transformers\");\n\nconst createComponent = ({ BABYLON, scene }, props) => {\n    const component = new BABYLON.CubeTexture(props.url, scene);\n    return component;\n};\n\nconst props = {\n    url: { newComponentRequired: true },\n    coordinatesMode: {\n        setter: setters.property(\"coordinatesMode\"),\n    },\n};\n\nconst cubeTexture = {\n    superTypes: [\"cubeTexture\"],\n    type: \"cubeTexture\",\n    createComponent,\n    props,\n};\n\nmodule.exports = cubeTexture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/babylonjs/styles/style-cube-texture.js"],"sourceRoot":""}